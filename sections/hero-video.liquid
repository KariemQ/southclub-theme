{% comment %}
  Hero-video section.  Requires a video file or URL in the customizer.
{% endcomment %}

{% if section.settings.video != blank or section.settings.video_url != blank %}
<section class="hero-video" data-section-id="{{ section.id }}">
  <div class="hero-video__wrapper">
    {%- comment -%} Preferred: video uploaded in Settings > Files {%- endcomment -%}
    {% if section.settings.video != blank %}
      {{ section.settings.video | video_tag:
          class: 'hero-video__media',
          autoplay: true, loop: true, muted: true, playsinline: true }}
    {% else %}
      <video
        class="hero-video__media"
        src="{{ section.settings.video_url }}"
        autoplay
        loop
        muted
        playsinline
        aria-label="Background video">
      </video>
    {% endif %}

    {%- comment -%} Minimal white arrow scroll cue {%- endcomment -%}
    <button class="hero-video__scroll-down"
            aria-label="Scroll down"
            data-scroll-trigger>
      <svg width="28" height="28" viewBox="0 0 24 24" fill="none"
           stroke="currentColor" stroke-width="1.5"
           stroke-linecap="round" stroke-linejoin="round">
        <polyline points="6 9 12 15 18 9" />
      </svg>
    </button>
  </div>
</section>

{% endif %}

{% schema %}
{
  "name": "Hero Video",
  "settings": [
    { "type": "video", "id": "video", "label": "Background Video" },
    { "type": "url",  "id": "video_url", "label": "Or Video URL (MP4)" }
  ],
  "presets": [{ "name": "Hero Video" }]
}
{% endschema %}
