{% comment %}
  This section requires a video to be set in the Theme Customizer.
  It works with the custom CSS and JS provided for the advanced hero layout.
{% endcomment %}

{% if section.settings.video != blank or section.settings.video_url != blank %}
  <div class="hero-video__wrapper" data-section-id="{{ section.id }}">
    {%- comment -%}
      Using a video from the Files admin is preferred for performance.
    {%- endcomment -%}
    {% if section.settings.video != blank %}
      {{ section.settings.video | video_tag: class: 'hero-video__media', autoplay: true, loop: true, muted: true, playsinline: true }}
    {% else %}
      <video
        class="hero-video__media"
        src="{{ section.settings.video_url }}"
        autoplay
        loop
        muted
        playsinline
        aria-label="Background video"
      ></video>
    {% endif %}
  </div>

  {% comment %}
    This is the small white arrow. It uses a built-in theme icon.
    The data-scroll-trigger attribute is what our JavaScript looks for.
  {% endcomment %}
  <div class="hero-video__scroll-down" data-scroll-trigger>
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" role="presentation" class="icon icon-arrow-down" fill="none" viewBox="0 0 18 20">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M10.03 15.63a.75.75 0 01-1.06 0l-4-4a.75.75 0 111.06-1.06l3.47 3.469 3.47-3.469a.75.75 0 111.06 1.06l-4 4z" fill="currentColor">
    </svg>
  </div>
{% endif %}

{% schema %}
{
  "name": "Hero Video",
  "settings": [
    {
      "type": "video",
      "id": "video",
      "label": "Background Video",
      "info": "Recommended. Upload your video in 'Content > Files' in your Shopify admin."
    },
    {
      "type": "url",
      "id": "video_url",
      "label": "Or Video URL (MP4)",
      "info": "Use as a fallback if you cannot upload the video to Shopify."
    }
  ],
  "presets": [
    {
      "name": "Hero Video"
    }
  ]
}
{% endschema %}